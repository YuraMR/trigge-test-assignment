<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Valid Index</title>
    </head>
    <body>
        <div id="root">
            <div widget="widgets/a">
                <div widget="widgets/button">Button before</div>
            </div>
            <div widget="widgets/label">Label Before</div>
        </div>
        <script src="index.js"></script>
        <script>
          (async () => {
            const root = document.getElementById('root');
            console.log('Script executed after body, root element:', root);

            const callback = () => {
              console.log('Traversal complete');
            };

            if (root) {
              const { init, destroy } = flawlessWidgetLibrary({ target: root, callback });
              await init({ root, callback });
            } else {
              console.error('Root element not found');
            }
          })();
        </script>
    </body>


    </body>
</html>
